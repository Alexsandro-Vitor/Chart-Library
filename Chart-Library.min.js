class Chart{constructor(container,id,position,margins,dimensions,tagClass){this._container=container;this._id=id;if(position==null||typeof position!="object"){this._x=0;this._y=0}else{this._x=position.x;this._y=position.y}if(margins==null){this._margins={left:10,right:10,top:10,bottom:10}}else if(typeof margins=="number"){this._margins={left:margins,right:margins,top:margins,bottom:margins}}else{this._margins=margins}if(dimensions==null){this._width=container.attr("width")-this._margins.left-this._margins.right;this._height=container.attr("height")-this._margins.top-this._margins.bottom}else{this._width=dimensions.width-this._margins.left-this._margins.right;this._height=dimensions.height-this._margins.top-this._margins.bottom}this._selection=this._container.append("g").attr("id",this._id).attr("class",tagClass).attr("transform","translate("+(this._margins.left+this._x)+","+(this._margins.top+this._y)+")")}container(){return this._container}id(id){if(id){this._id=id;this._selection.attr("id",id);return this}else{return this._id}}position(){return[this._x,this._y]}margins(){return this._margins}width(){return this._width}height(){return this._height}selection(){return this._selection}labelTable(table){if(table)this._labelTable=table;return this._labelTable}clear(){if(this._labelTable){this._labelTable.selection().remove();this._labelTable=null}return this}static genSequence(start,size,end){let output=[];size--;for(let i=0;i<=size;i++){output.push(start+i*(end-start)/size)}return output}static adjustScaleDomain(scale,axis,axisGroup,domain){if(domain)scale.domain(domain);axis.scale(scale);axisGroup.call(axis)}static addIfNull(array,field,value){if(array[field]==null)array[field]=value}static insertAttributesEvents(selection,attributes,onEvents){for(let attrName in attributes){selection.attr(attrName,attributes[attrName])}for(let eventName in onEvents){selection.on(eventName,onEvents[eventName])}}}class Histogram extends Chart{constructor(container,id,position,margins,dimensions){super(container,id,position,margins,dimensions,"histogramChart");this._xScale=d3.scaleLinear();this._xAxisScale=d3.scaleOrdinal().range([0,this._width]);this._xAxis=d3.axisBottom(this._xAxisScale);this._xAxisGroup=this._selection.append("g").attr("class","xAxis").attr("transform","translate(0,"+this._height+")");this._xAxisGroup.call(this._xAxis);this._yScale=d3.scaleLinear().range([this._height,0]);this._yAxis=d3.axisLeft(this._yScale);this._yAxisGroup=this._selection.append("g").attr("class","yAxis");this._yAxisGroup.call(this._yAxis);this._colSelection=null;this._colorScale=d3.scaleLinear().domain(Chart.genSequence(0,d3.schemeCategory10.length,d3.schemeCategory10.length-1)).range(d3.schemeCategory10)}xScale(){return this._xScale}xAxisScale(scale){if(scale){this._xAxisScale=scale;this._xScale.domain([0,scale.domain().length-3]).range([scale.range()[1],scale.range()[scale.domain().length-2]]);Chart.adjustScaleDomain(this._xAxisScale,this._xAxis,this._xAxisGroup,this._xAxisScale.domain());return this}else{return this._xAxisScale}}yScale(scale){if(scale){this._yScale=scale;Chart.adjustScaleDomain(this._yScale,this._yAxis,this._yAxisGroup,d3.extent(this._yScale.domain()));return this}else{return this._yScale}}colSelection(){return this._colSelection}colorScale(scale){if(scale){this._colorScale=scale;if(this._colSelection!=null)this._colSelection.attr("fill",(d,i)=>this._colorScale(i%scale.range().length));return this}else{return this._colorScale}}setData(dataset,attributes,onEvents){let colWidth=this._width/(this._xAxisScale.domain().length-1);let thisChart=this;Chart.adjustScaleDomain(this._yScale,this._yAxis,this._yAxisGroup,[0,d3.max(dataset)]);if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"col"+this._xAxisScale.domain()[i+1]);attributes["class"]="column";Chart.addIfNull(attributes,"x",(d,i)=>this._xScale(i)-colWidth/2);Chart.addIfNull(attributes,"y",(d,i)=>this._yScale(d));Chart.addIfNull(attributes,"width",colWidth);Chart.addIfNull(attributes,"height",(d,i)=>this._height-this._yScale(d));this._colSelection=this._selection.selectAll(".column").data(dataset).enter().append("rect").attr("fill",(d,i)=>thisChart._colorScale(i%thisChart._colorScale.domain().length));Chart.insertAttributesEvents(this._colSelection,attributes,onEvents);return this}clear(){if(this._colSelection){this._colSelection.remove();this._colSelection=null}return super.clear()}}class Segments extends Chart{constructor(container,id,position,margins,dimensions){super(container,id,position,margins,dimensions,"segmentsChart");this._xScale=d3.scaleLinear().range([0,this._width]);this._xAxisScale=d3.scaleOrdinal().range([0,this._width]);this._xAxis=d3.axisBottom(this._xAxisScale);this._xAxisGroup=this._selection.append("g").attr("class","xAxis").attr("transform","translate(0,"+this._height+")");this._xAxisGroup.call(this._xAxis);this._yScale=d3.scaleLinear().range([this._height,0]);this._yAxis=d3.axisLeft(this._yScale);this._yAxisGroup=this._selection.append("g").attr("class","yAxis");this._yAxisGroup.call(this._yAxis);this._rangeLayer=this._selection.append("g");this._segLayer=this._selection.append("g");this._dotLayer=this._selection.append("g");this._segSelection=null;this._dotSelection=null;this._rangeSelection=null;this.segPathGenerator=d3.line().x((d,i)=>this._xScale(i)).y((d,i)=>this._yScale(d));this.rangePathGenerator=d3.area().x((d,i)=>this._xScale(i)).y0((d,i)=>this._yScale(d[0])).y1((d,i)=>this._yScale(d[1]));this._dotColorScale=d3.scaleLinear().domain(Chart.genSequence(0,d3.schemeSet1.length,d3.schemeSet1.length-1)).range(d3.schemeSet1);this._rangeColorScale=d3.scaleLinear().domain(Chart.genSequence(0,d3.schemeSet2.length,d3.schemeSet2.length-1)).range(d3.schemeSet2)}xScale(){return this._xScale}xAxisScale(scale){if(scale){this._xAxisScale=scale;this._xScale.domain([0,scale.domain().length-1]);Chart.adjustScaleDomain(this._xAxisScale,this._xAxis,this._xAxisGroup);return this}else{return this._xScale}}yScale(scale){if(scale){this._yScale=scale;Chart.adjustScaleDomain(this._yScale,this._yAxis,this._yAxisGroup);return this}else{return this._yScale}}segSelection(){return this._segSelection}dotSelection(){return this._dotSelection}rangeSelection(){return this._rangeSelection}segPathGenerator(gen){if(gen){this._segPathGenerator=gen;return this}else{return this._segPathGenerator}}rangePathGeneration(gen){if(gen){this._rangePathGenerator=gen;return this}else{return this._rangePathGenerator}}dotColorScale(scale){if(scale){this._dotColorScale=scale;return this}else{return this._dotColorScale}}rangeColorScale(scale){if(scale){this._rangeColorScale=scale;return this}else{return this._rangeColorScale}}setSegments(dataset,attributes,onEvents){let datasetExtent=dataset.map(d=>d3.extent(d));datasetExtent.push(this._yScale.domain());let newDomain=[d3.min(datasetExtent.map(d=>d[0])),d3.max(datasetExtent.map(d=>d[1]))];Chart.adjustScaleDomain(this._yScale,this._yAxis,this._yAxisGroup,newDomain);if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"seg"+i);attributes["class"]="segment";Chart.addIfNull(attributes,"d",(d,i)=>this.segPathGenerator(d));Chart.addIfNull(attributes,"stroke","black");this._segSelection=this._segLayer.selectAll(".segment").data(dataset).enter().append("path").attr("fill","transparent");if(this._dotSelection){this._dotSelection.attr("cx",(d,i)=>this._xScale(i)).attr("cy",(d,i)=>this._yScale(d))}if(this._rangeSelection)this._rangeSelection.attr("d",(d,i)=>this.rangePathGenerator(d));Chart.insertAttributesEvents(this._segSelection,attributes,onEvents);return this}setDots(dataset,attributes,onEvents){let thisChart=this;let datasetExtent=dataset.map(d=>d3.extent(d));datasetExtent.push(this._yScale.domain());let newDomain=[d3.min(datasetExtent.map(d=>d[0])),d3.max(datasetExtent.map(d=>d[1]))];Chart.adjustScaleDomain(this._yScale,this._yAxis,this._yAxisGroup,newDomain);if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"dotGroup"+i);attributes["class"]="dotGroup";Chart.addIfNull(attributes,"r","5px");Chart.addIfNull(attributes,"cx",(d,i)=>this._xScale(i));Chart.addIfNull(attributes,"cy",(d,i)=>this._yScale(d));this._dotSelection=this._dotLayer.selectAll(".dotGroup").data(dataset).enter().append("g").attr("id",attributes["id"]).attr("class",attributes["class"]).attr("fill",(d,i)=>thisChart._dotColorScale(i%thisChart._dotColorScale.domain().length)).selectAll(".groupDot").data(d=>d).enter().append("circle");if(this._segSelection)this._segSelection.attr("d",(d,i)=>this.segPathGenerator(d));if(this._rangeSelection)this._rangeSelection.attr("d",(d,i)=>this.rangePathGenerator(d));attributes["id"]=((d,i)=>"dot_"+this._xAxisScale.domain()[i]);attributes["class"]="groupDot";Chart.insertAttributesEvents(this._dotSelection,attributes,onEvents);return this}setRanges(dataset,attributes,onEvents){let thisChart=this;let datasetExtent=dataset.map(d=>[d3.min(d.map(d=>d[0])),d3.max(d.map(d=>d[1]))]);datasetExtent.push(this._yScale.domain());let newDomain=[d3.min(datasetExtent.map(d=>d[0])),d3.max(datasetExtent.map(d=>d[1]))];Chart.adjustScaleDomain(this._yScale,this._yAxis,this._yAxisGroup,newDomain);if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"range"+i);attributes["class"]="range";Chart.addIfNull(attributes,"d",(d,i)=>this.rangePathGenerator(d));this._rangeSelection=this._rangeLayer.selectAll(".range").data(dataset).enter().append("path").attr("fill",(d,i)=>thisChart._rangeColorScale(i%thisChart._rangeColorScale.domain().length));if(this._dotSelection){this._dotSelection.attr("cx",(d,i)=>this._xScale(i)).attr("cy",(d,i)=>this._yScale(d))}if(this._segSelection)this._segSelection.attr("d",(d,i)=>this.segPathGenerator(d));Chart.insertAttributesEvents(this._rangeSelection,attributes,onEvents);return this}clear(){if(this._dotSelection){this._dotSelection.remove();this._dotSelection=null}if(this._segSelection){this._segSelection.remove();this._segSelection=null}if(this._rangeSelection){this._rangeSelection.remove();this._rangeSelection=null}return super.clear()}}class Map extends Chart{constructor(container,id,position,margins,dimensions){super(container,id,position,margins,dimensions,"mapChart");this._projection=d3.geoMercator();this._geoPath=d3.geoPath().projection(this._projection);this._fillValue=((d,i)=>1);this._colorScale=d3.scalePow();this._colorScheme=d3.interpolateInferno;this._fillFunction=((d,i)=>this._colorScheme(this._colorScale(this._fillValue(d,i))));this._pathSelection=null;this._dotSelection=null}pathSelection(){return this._pathSelection}dotSelection(){return this._dotSelection}projection(projection){if(projection){this._projection=projection;this._geoPath=d3.geoPath().projection(this._projection);return this}else{return this._projection}}fillValue(func){if(func){this._fillValue=func;return this}else{return this._fillValue}}colorScale(scale){if(scale){this._colorScale=scale;return this}else{return this._colorScale}}colorScheme(scheme){if(scheme){this._colorScheme=scheme;return this}else{return this._colorScheme}}fillFunction(func){if(func){this._fillFunction=func;return this}else if(func===null){this._fillFunction=((d,i)=>this._colorScheme(this._colorScale(this._fillValue(d,i))));return this}else{return this._fillFunction}}setMap(geojson,attributes,onEvents){let thisChart=this;this._projection.fitExtent([[0,0],[this._width,this._height]],geojson);if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>d.properties.L1);attributes["class"]="mapPath";Chart.addIfNull(attributes,"d",(d,i)=>this._geoPath(d.geometry));this._pathSelection=this._selection.selectAll(".mapPath").data(geojson.features).enter().append("path").attr("fill",(d,i)=>thisChart._fillFunction(d,i));Chart.insertAttributesEvents(this._pathSelection,attributes,onEvents);return this}setData(dataset,attributes,onEvents){let thisChart=this;this._pathSelection.data(dataset).attr("fill",(d,i)=>thisChart._fillFunction(d,i));Chart.insertAttributesEvents(this._pathSelection,attributes,onEvents);return this}setDots(dataset,attributes,onEvents){let thisChart=this;if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"dot"+i);attributes["class"]="mapDot";Chart.addIfNull(attributes,"r","3px");Chart.addIfNull(attributes,"cx",10);Chart.addIfNull(attributes,"cy",10);this._dotSelection=this._selection.selectAll(".mapDot").data(dataset).enter().append("circle").attr("fill",(d,i)=>thisChart._fillFunction(d,i));Chart.insertAttributesEvents(this._dotSelection,attributes,onEvents);return this}clear(){if(this._pathSelection){this._pathSelection.remove();this._pathSelection=null}if(this._dotSelection){this._dotSelection.remove();this._dotSelection=null}return super.clear()}}class Scatterplot extends Chart{constructor(container,id,position,margins,dimensions){super(container,id,position,margins,dimensions,"scatterplotChart");this._xScale=d3.scaleLinear().range([0,this._width]);this._xAxisTop=d3.axisTop(this._xScale);this._xAxisTopGroup=this._selection.append("g").attr("class","xAxis");this._xAxisTopGroup.call(this._xAxisTop);this._xAxisBottom=d3.axisBottom(this._xScale);this._xAxisBottomGroup=this._selection.append("g").attr("class","xAxis").attr("transform","translate(0, "+this._height+")");this._xAxisBottomGroup.call(this._xAxisBottom);this._yScale=d3.scaleLinear().range([this._height,0]);this._yAxisLeft=d3.axisLeft(this._yScale);this._yAxisLeftGroup=this._selection.append("g").attr("class","yAxis");this._yAxisLeftGroup.call(this._yAxisLeft);this._yAxisRight=d3.axisRight(this._yScale);this._yAxisRightGroup=this._selection.append("g").attr("class","yAxis").attr("transform","translate("+this._width+", 0)");this._yAxisRightGroup.call(this._yAxisRight);this._dotSelection=null;this._colorScale=d3.scaleLinear().domain(Chart.genSequence(0,d3.schemeCategory10.length,d3.schemeCategory10.length-1)).range(d3.schemeCategory10);this._fillFunction=((d,i)=>this._colorScale(i%this._colorScale.domain().length))}xScale(scale){if(scale){this._xScale=scale;Chart.adjustScaleDomain(this._xScale,this._xAxisTop,this._xAxisTopGroup);Chart.adjustScaleDomain(this._xScale,this._xAxisBottom,this._xAxisBottomGroup);if(this._dotSelection)this._dotSelection.attr("cx",(d,i)=>this._xScale(d[0]));return this}else{return this._xScale}}yScale(scale){if(scale){this._yScale=scale;Chart.adjustScaleDomain(this._yScale,this._yAxisLeft,this._yAxisLeftGroup);Chart.adjustScaleDomain(this._yScale,this._yAxisRight,this._yAxisRightGroup);if(this._dotSelection)this._dotSelection.attr("cy",(d,i)=>this._yScale(d[1]));return this}else{return this._yScale}}dotSelection(){return this._dotSelection}colorScale(scale){if(scale){this._colorScale=scale;return this}else{return this._colorScale}}fillFunction(func){let thisChart=this;if(func)this._fillFunction=func;else if(func===null)this._fillFunction=((d,i)=>this._colorScale(i%this._colorScale.domain().length));else return this._fillFunction;if(this._dotSelection)this._dotSelection.attr("fill",(d,i)=>thisChart._fillFunction(d,i));return this}setData(dataset,attributes,onEvents){let thisChart=this;if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"dot"+i);attributes["class"]="dot";Chart.addIfNull(attributes,"cx",(d,i)=>this._xScale(d[0]));Chart.addIfNull(attributes,"cy",(d,i)=>this._yScale(d[1]));Chart.addIfNull(attributes,"r","4px");let minMaxX=d3.extent(dataset.map((d,i)=>this._xScale.invert(attributes.cx(d,i))));let minMaxY=d3.extent(dataset.map((d,i)=>this._yScale.invert(attributes.cy(d,i))));Chart.adjustScaleDomain(this._xScale,this._xAxisTop,this._xAxisTopGroup,minMaxX);Chart.adjustScaleDomain(this._xScale,this._xAxisBottom,this._xAxisBottomGroup,minMaxX);Chart.adjustScaleDomain(this._yScale,this._yAxisLeft,this._yAxisLeftGroup,minMaxY);Chart.adjustScaleDomain(this._yScale,this._yAxisRight,this._yAxisRightGroup,minMaxY);this._dotSelection=this._selection.selectAll(".dot").data(dataset).enter().append("circle").attr("fill",(d,i)=>thisChart._fillFunction(d,i));Chart.insertAttributesEvents(this._dotSelection,attributes,onEvents);return this}clear(){if(this._dotSelection){this._dotSelection.remove();this._dotSelection=null}return super.clear()}}class Pie extends Chart{constructor(container,id,position,margins,dimensions){super(container,id,position,margins,dimensions,"pieChart");this._selection.attr("transform","translate("+(this._margins.left+this._width/2)+","+(this._margins.top+this._height/2)+")");this._sliceSelection=null;this._labelSelection=null;this._innerRadius=((d,i)=>0);this._outerRadius=((d,i)=>d3.min([this._width,this._height])/2);this._colorScale=d3.scaleLinear().domain(Chart.genSequence(0,d3.schemeCategory10.length,d3.schemeCategory10.length-1)).range(d3.schemeCategory10)}sliceSelection(){return this._sliceSelection}labelSelection(){return this._labelSelection}innerRadius(func){if(func){this._innerRadius=func;return this}else{return this._innerRadius}}outerRadius(func){if(func){this._outerRadius=func;return this}else{return this._outerRadius}}colorScale(scale){if(scale){this._colorScale=scale;return this}else{return this._colorScale}}setData(dataset,attributes,onEvents){let thisChart=this;this._pieData=d3.pie()(dataset);if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"slice"+i);attributes["class"]="slice";Chart.addIfNull(attributes,"d",(d,i)=>this.genSlice(d,i)());this._sliceSelection=this._selection.selectAll(".slice").data(dataset).enter().append("path").attr("fill",(d,i)=>thisChart._colorScale(i%thisChart._colorScale.domain().length));Chart.insertAttributesEvents(this._sliceSelection,attributes,onEvents);return this}setSliceLabels(labels,attributes,onEvents){let centroids=this._sliceSelection.data().map((d,i)=>this.genSlice(d,i).centroid());if(attributes==null)attributes=[];attributes["class"]="sliceLabel";Chart.addIfNull(attributes,"x",(d,i)=>centroids[i][0]);Chart.addIfNull(attributes,"y",(d,i)=>centroids[i][1]);Chart.addIfNull(attributes,"text-anchor","middle");Chart.addIfNull(attributes,"dominant-baseline","middle");this._labelSelection=this._selection.selectAll(".sliceLabel").data(labels).enter().append("text").text((d,i)=>d);Chart.insertAttributesEvents(this._labelSelection,attributes,onEvents);return this}genSlice(d,i){return d3.arc().innerRadius(this._innerRadius(d,i)).outerRadius(this._outerRadius(d,i)).startAngle(this._pieData[i].startAngle).endAngle(this._pieData[i].endAngle)}clear(){if(this._sliceSelection){this._sliceSelection.remove();this._sliceSelection=null;this._pieData=null}if(this._labelSelection){this._labelSelection.remove();this._labelSelection=null}return super.clear()}}class StarGlyph extends Chart{constructor(container,id,position,margins,dimensions){super(container,id,position,margins,dimensions,"starGlyphChart");this._selection.attr("transform","translate("+(this._margins.left+this._width/2)+","+(this._margins.top+this._height/2)+")");this._polygonSelection=null;this._labelSelection=null;this._scales=[];this._pathGenerator=d3.lineRadial().angle((d,i)=>this._getAngle(i)).radius((d,i)=>this._scales[i%this._scales.length](d));this._fillFunction=((d,i)=>"blue")}polygonSelection(){return this._polygonSelection}labelSelection(){return this._labelSelection}pathGenerator(gen){if(gen){this._pathGenerator=gen;return this}else{return this._pathGenerator}}fillFunction(func){if(func){this._fillFunction=func;return this}else{return this._fillFunction}}setScaleDomains(newDomains){this._scales=[];for(let i in newDomains){this._scales[i]=d3.scaleLinear().domain(newDomains[i]).range([0,d3.min([this._width,this._height])/2])}return this}setData(dataset,attributes,onEvents){if(attributes==null)attributes=[];Chart.addIfNull(attributes,"id",(d,i)=>"polygon"+i);attributes["class"]="polygon";Chart.addIfNull(attributes,"d",(d,i)=>this._pathGenerator(d,i));dataset.push(dataset[0]);this._polygonSelection=this._selection.selectAll(".polygon").data([dataset]).enter().append("path").attr("fill",this._fillFunction);Chart.insertAttributesEvents(this._polygonSelection,attributes,onEvents);return this}setCornerLabels(labels,attributes,onEvents){let radius=d3.min([this._width,this._height])/2+3;if(attributes==null)attributes=[];attributes["class"]="cornerLabel";Chart.addIfNull(attributes,"x",(d,i)=>Math.sin(this._getAngle(i))*radius);Chart.addIfNull(attributes,"y",(d,i)=>-Math.cos(this._getAngle(i))*radius);Chart.addIfNull(attributes,"text-anchor",(d,i)=>this._getTextAnchor(i));Chart.addIfNull(attributes,"dominant-baseline",(d,i)=>this._getDominantBaseline(i));this._labelSelection=this._selection.selectAll(".cornerLabel").data(labels).enter().append("text").text((d,i)=>d);Chart.insertAttributesEvents(this._labelSelection,attributes,onEvents);return this}_getAngle(i){return 2*Math.PI*i/this._scales.length}_getTextAnchor(i){let sine=Math.sin(this._getAngle(i));return sine<-1e-6?"end":sine>1e-6?"start":"middle"}_getDominantBaseline(i){let cosine=Math.cos(this._getAngle(i));return cosine<-1e-6?"hanging":cosine>1e-6?"baseline":"middle"}clear(){if(this._polygonSelection){this._polygonSelection.remove();this._polygonSelection=null}if(this._labelSelection){this._labelSelection.remove();this._labelSelection=null}return super.clear()}}class LabelTable extends Chart{constructor(chart,id,position,margins,dimensions){super(chart.selection(),id,position,margins,dimensions,"labels");this._chart=chart;this._colorSelection=null;this._textSelection=null;this._border=this._selection.append("rect").attr("class","border").attr("width",this._width).attr("height",this._height).attr("stroke","black").attr("fill","white")}chart(){return this._chart}colorSelection(){return this._colorSelection}textSelection(){return this._textSelection}border(rect){return this._border}setValues(colors,values,colorAttributes,valueAttributes){let thisChart=this;if(colorAttributes==null)colorAttributes=[];colorAttributes["class"]="colorPlot";Chart.addIfNull(colorAttributes,"x",0);Chart.addIfNull(colorAttributes,"y",(d,i)=>i*thisChart._height/colors.length);Chart.addIfNull(colorAttributes,"width",thisChart._height/colors.length);Chart.addIfNull(colorAttributes,"height",thisChart._height/colors.length);this._colorSelection=this._selection.selectAll("colorPlot").data(colors).enter().append("rect").attr("fill",(d,i)=>d);Chart.insertAttributesEvents(this._colorSelection,colorAttributes,null);if(valueAttributes==null)valueAttributes=[];valueAttributes["class"]="colorLabel";Chart.addIfNull(valueAttributes,"x",colorAttributes["width"]+5);Chart.addIfNull(valueAttributes,"y",colorAttributes["y"]);Chart.addIfNull(valueAttributes,"width",thisChart._width-valueAttributes["x"]);Chart.addIfNull(valueAttributes,"height",colorAttributes["height"]);this._textSelection=this._selection.selectAll("colorLabel").data(values).enter().append("text").text(d=>d).attr("dominant-baseline","hanging");Chart.insertAttributesEvents(this._textSelection,valueAttributes,null);return this}}